--// üåå Heheboy Fly + Speed + Invisible + NoClip (Full Fixed GUI)
-- by Heheboy + TanPhatHUD üòé

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

local player = Players.LocalPlayer
local camera = workspace.CurrentCamera
repeat task.wait() until player.Character and player.Character:FindFirstChild("Humanoid")

local char = player.Character
local hum = char:WaitForChild("Humanoid")
local hrp = char:WaitForChild("HumanoidRootPart")

-----------------------------------------------------------
-- üåà GUI
-----------------------------------------------------------
local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "TanPhatHUD"
gui.ResetOnSpawn = false

-- Toggle Button
local toggleBtn = Instance.new("ImageButton")
toggleBtn.Name = "ToggleButton"
toggleBtn.Size = UDim2.new(0, 70, 0, 70)
toggleBtn.Position = UDim2.new(1, -85, 1, -100)
toggleBtn.BackgroundTransparency = 1
toggleBtn.Image = "rbxassetid://3926305904"
toggleBtn.ImageRectOffset = Vector2.new(84, 204)
toggleBtn.ImageRectSize = Vector2.new(36, 36)
toggleBtn.ImageColor3 = Color3.fromRGB(0, 255, 255)
toggleBtn.Parent = gui

-- Toggle button movable
do
	local dragging, dragInput, dragStart, startPos
	local function update(input)
		local delta = input.Position - dragStart
		toggleBtn.Position = UDim2.new(
			startPos.X.Scale, startPos.X.Offset + delta.X,
			startPos.Y.Scale, startPos.Y.Offset + delta.Y
		)
	end
	toggleBtn.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			dragging = true
			dragStart = input.Position
			startPos = toggleBtn.Position
			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then dragging = false end
			end)
		end
	end)
	toggleBtn.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
			dragInput = input
		end
	end)
	UserInputService.InputChanged:Connect(function(input)
		if input == dragInput and dragging then update(input) end
	end)
end

-- Frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 240, 0, 210)
frame.Position = UDim2.new(0.5, -120, 0.7, 0)
frame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
frame.BorderSizePixel = 0
frame.Visible = false
frame.Parent = gui

Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 12)
local stroke = Instance.new("UIStroke", frame)
stroke.Color = Color3.fromRGB(0, 255, 255)
stroke.Thickness = 2
stroke.Transparency = 0.3

local title = Instance.new("TextLabel", frame)
title.Text = "üöÄ TanPhatHUD"
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.TextColor3 = Color3.fromRGB(0, 255, 255)
title.BackgroundTransparency = 1
title.Size = UDim2.new(1, 0, 0, 25)

-- Frame movable
do
	local dragging, dragInput, dragStart, startPos
	local function update(input)
		local delta = input.Position - dragStart
		frame.Position = UDim2.new(
			startPos.X.Scale, startPos.X.Offset + delta.X,
			startPos.Y.Scale, startPos.Y.Offset + delta.Y
		)
	end
	frame.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			dragging = true
			dragStart = input.Position
			startPos = frame.Position
			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then dragging = false end
			end)
		end
	end)
	frame.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
			dragInput = input
		end
	end)
	UserInputService.InputChanged:Connect(function(input)
		if input == dragInput and dragging then update(input) end
	end)
end

local function makeBtn(text, y)
	local b = Instance.new("TextButton")
	b.Size = UDim2.new(0.9, 0, 0, 40)
	b.Position = UDim2.new(0.05, 0, 0, y)
	b.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
	b.Text = text
	b.Font = Enum.Font.GothamBold
	b.TextSize = 18
	b.TextColor3 = Color3.fromRGB(255, 255, 255)
	Instance.new("UICorner", b).CornerRadius = UDim.new(0, 10)
	b.Parent = frame
	return b
end

local flyBtn = makeBtn("‚úàÔ∏è Fly: OFF", 30)
local invisBtn = makeBtn("üëª Invisible: OFF", 75)
local speedBtn = makeBtn("üí® Speed: OFF", 120)
local noclipBtn = makeBtn("üö™ NoClip: OFF", 165)

-----------------------------------------------------------
-- ‚úàÔ∏è Fly System (fix mobile bay cao)
-----------------------------------------------------------
local flying, bv, bg = false, nil, nil
local speed, MAX_SPEED, ACCEL = 0, 90, 80
local keys = {}
UserInputService.InputBegan:Connect(function(i, gp)
	if not gp then keys[i.KeyCode] = true end
end)
UserInputService.InputEnded:Connect(function(i)
	keys[i.KeyCode] = false
end)

local function startFly()
	if flying then return end
	flying = true
	hum.PlatformStand = true
	speed = 0

	bv = Instance.new("BodyVelocity")
	bv.MaxForce = Vector3.new(1e5, 1e5, 1e5)
	bv.P = 1250
	bv.Velocity = Vector3.zero
	bv.Parent = hrp

	bg = Instance.new("BodyGyro")
	bg.MaxTorque = Vector3.new(1e5, 1e5, 1e5)
	bg.P = 8000
	bg.Parent = hrp

	TweenService:Create(flyBtn, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(0,200,255)}):Play()
	flyBtn.Text = "‚úàÔ∏è Fly: ON"

	RunService:BindToRenderStep("FlyLoop", Enum.RenderPriority.Input.Value, function(dt)
		if not flying then return end
		local moveDir = Vector3.zero
		if UserInputService.TouchEnabled then
			moveDir = hum.MoveDirection
		else
			if keys[Enum.KeyCode.W] then moveDir += camera.CFrame.LookVector end
			if keys[Enum.KeyCode.S] then moveDir -= camera.CFrame.LookVector end
			if keys[Enum.KeyCode.A] then moveDir -= camera.CFrame.RightVector end
			if keys[Enum.KeyCode.D] then moveDir += camera.CFrame.RightVector end
			if keys[Enum.KeyCode.Space] then moveDir += Vector3.new(0,1,0) end
			if keys[Enum.KeyCode.LeftShift] then moveDir -= Vector3.new(0,1,0) end
		end
		if moveDir.Magnitude > 0 then
			moveDir = moveDir.Unit
			speed = math.clamp(speed + ACCEL * dt, 25, MAX_SPEED)
		else
			speed = math.clamp(speed - ACCEL * dt*2, 0, MAX_SPEED)
		end
		bv.Velocity = moveDir * speed
		bg.CFrame = CFrame.new(hrp.Position, hrp.Position + camera.CFrame.LookVector)
	end)
end

local function stopFly()
	flying = false
	hum.PlatformStand = false
	RunService:UnbindFromRenderStep("FlyLoop")
	if bv then bv:Destroy() end
	if bg then bg:Destroy() end
	TweenService:Create(flyBtn, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(60,60,60)}):Play()
	flyBtn.Text = "‚úàÔ∏è Fly: OFF"
end
flyBtn.MouseButton1Click:Connect(function()
	if flying then stopFly() else startFly() end
end)

-----------------------------------------------------------
-- üëª Invisible
-----------------------------------------------------------
local invisible = false
invisBtn.MouseButton1Click:Connect(function()
	invisible = not invisible
	for _, p in pairs(char:GetDescendants()) do
		if p:IsA("BasePart") and p.Name ~= "HumanoidRootPart" then
			p.LocalTransparencyModifier = invisible and 1 or 0
		elseif p:IsA("Decal") then
			p.Transparency = invisible and 1 or 0
		end
	end
	TweenService:Create(invisBtn, TweenInfo.new(0.3), {
		BackgroundColor3 = invisible and Color3.fromRGB(0,200,255) or Color3.fromRGB(60,60,60)
	}):Play()
	invisBtn.Text = invisible and "üëª Invisible: ON" or "üëª Invisible: OFF"
end)

-----------------------------------------------------------
-- üí® Speed
-----------------------------------------------------------
local speedBoost = false
local NORMAL_WALK, BOOST_SPEED = 16, 90
speedBtn.MouseButton1Click:Connect(function()
	speedBoost = not speedBoost
	hum.WalkSpeed = speedBoost and BOOST_SPEED or NORMAL_WALK
	TweenService:Create(speedBtn, TweenInfo.new(0.3), {
		BackgroundColor3 = speedBoost and Color3.fromRGB(0,200,255) or Color3.fromRGB(60,60,60)
	}):Play()
	speedBtn.Text = speedBoost and "üí® Speed: ON" or "üí® Speed: OFF"
end)

-----------------------------------------------------------
-- üö™ NoClip
-----------------------------------------------------------
local noclip = false
noclipBtn.MouseButton1Click:Connect(function()
	noclip = not noclip
	TweenService:Create(noclipBtn, TweenInfo.new(0.3), {
		BackgroundColor3 = noclip and Color3.fromRGB(0,200,255) or Color3.fromRGB(60,60,60)
	}):Play()
	noclipBtn.Text = noclip and "üö™ NoClip: ON" or "üö™ NoClip: OFF"

	if not noclip then
		for _, v in pairs(char:GetChildren()) do
			if v:IsA("BasePart") then v.CanCollide = true end
		end
	end
end)
RunService.Stepped:Connect(function()
	if noclip then
		for _, v in pairs(char:GetChildren()) do
			if v:IsA("BasePart") then v.CanCollide = false end
		end
	end
end)

-----------------------------------------------------------
-- üéõÔ∏è Toggle GUI
-----------------------------------------------------------
local guiVisible = false
toggleBtn.MouseButton1Click:Connect(function()
	guiVisible = not guiVisible
	if guiVisible then
		frame.Visible = true
		TweenService:Create(frame, TweenInfo.new(0.4), {Position = UDim2.new(0.5, -120, 0.7, 0)}):Play()
		toggleBtn.ImageColor3 = Color3.fromRGB(255, 80, 80)
	else
		TweenService:Create(frame, TweenInfo.new(0.4), {Position = UDim2.new(0.5, -120, 1.2, 0)}):Play()
		task.wait(0.4)
		frame.Visible = false
		toggleBtn.ImageColor3 = Color3.fromRGB(0, 255, 255)
	end
end)

          -----------------------------------------------------------
          --               ‚ö†Ô∏è Th√¥ng b√°o Script                     --
          -----------------------------------------------------------
-- hi·ªán script ƒëang trong qu√° tr√¨nh th·ª≠ nghi·ªám v√† c√≥ th·ªÉ c√≥ l·ªói.
-- vui l√≤ng b√°o c√°o n·∫øu c√≥ l·ªói ƒë·ªÉ fix nhanh ch√≥ng.
-- c·∫£m ∆°n ƒë√£ ch∆°i!
-- by tiktok: @duongtanphat14072013.
-- by facebook: D∆∞∆°ng Ph√°t.
-- s·∫Ω c√≥ th√™m nhi·ªÅu t√≠nh nƒÉng trong t∆∞∆°ng lai.
-- s·∫Ω c·ªë g·∫Øng rep facebook nhanh nh·∫•t.
-- m·ªçi th·∫Øc m·∫Øc vui l√≤ng ib facebook b√™n tr√™n ƒë·ªÉ ƒë∆∞·ª£c gi·∫£i ƒë√°p nhanh ch√≥ng.
-- th√™m t√≠nh nƒÉng ch·∫°y nhanh h∆°n.
-- n√∫t m·ªü ƒë√≥ng c√≥ th·ªÉ di chuy·ªÉn.
-- th√¥ng b√°o r√µ h∆°n tr√™n tiktok: @duongtanphat14072013.
-- ch·ª©c nƒÉng ƒëi xuy√™n t∆∞·ªùng.
-- fix fly mobile

-- The script is currently in the testing phase and may contain errors.
-- Please report any errors for quick fixes.
-- Thank you for playing!
-- by tiktok: @duongtanphat14072013.
-- by facebook: D∆∞∆°ng Ph√°t.
-- there will be more features in the future.
-- i will try to reply to facebook as soon as possible.
-- For any inquiries, please message us on the Facebook above for a quick response.
-- Added faster running feature.
-- The open/close button can be moved.
-- Clearer announcement on TikTok: @duongtanphat14072013.
-- Added through wall function.
-- Fixed mobile flying.
